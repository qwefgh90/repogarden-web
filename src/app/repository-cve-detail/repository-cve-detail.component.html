<div>
  <div class="container-fluid outer-box" >
    <div class="row equal" *ngIf="branch?.cveCommits?.length == 0">
      <h4>&nbsp;&nbsp;&nbsp;There are no results in {{branch.name}} branch.</h4>
    </div>
    <accordion>
      <accordion-group #group *ngFor="let commit of branch?.cveCommits; let i = index" [panelClass]="customClass" [isOpen]="i==0" (click)="loadTree(commit)">
        <div accordion-heading>
          <div><span style="float:left">cveCommits: {{commit.message}} ({{commit.sha}}<span *ngIf="getCveCount(commit)">, A number of cve is {{getCveCount(commit)}}</span></span>)&nbsp;<span style="float:right">{{commit.committerName}}&nbsp;&nbsp;<i class="pull-right float-xs-right glyphicon"
                                                                                                                                                      [ngClass]="{'glyphicon-chevron-down': group?.isOpen, 'glyphicon-chevron-right': !group?.isOpen}"></i></span></div>
        </div>
        <div *ngIf="!commit.tree" style="text-align: center">
          <i class="fa fa-spinner fa-spin fa-5x fa-fw"></i><br>
          <i class="fa-2x fa-fw">Trees...</i>
        </div>
        <div class="row equal" *ngIf="commit.tree">
          <div class="col-md-6 col-sm-12 left-content-box">
            <tree [tree]="commit?.tree" [settings]="treeSettings" (nodeSelected)="select(commit, $event)"></tree>
          </div>
          <div class="col-md-6 col-sm-12">
            <div *ngIf="selectedNodeMap[commit.sha]?.cve?.vulnerableList?.length > 0">
              <div style="margin-bottom:5px; border-bottom:1px solid #aaaaaa">{{selectedNodeMap[commit.sha]?.value}}</div>
              <div *ngFor="let part of selectedNodeMap[commit.sha]?.cve?.vulnerableList">
                <div><b>cve: {{part.cve.cve}}      </b></div>
                <div>title: {{part.cve.title}}      </div>
                <div>description : {{part.cve.description}}      </div>
                <div>references: </div>
                <div *ngFor="let ref of part.cve.references">
                  <a href="{{ref}}" target="_blank">- {{ref}}</a>
                </div>
              </div>
            </div>
            <div *ngIf="selectedNodeMap[commit.sha]?.type == 0 && (selectedNodeMap[commit.sha]?.cve == undefined || selectedNodeMap[commit.sha]?.cve?.vulnerableList?.length == 0)">
              No information of cves.
            </div>
          </div>
        </div>

      </accordion-group>
    </accordion>
  </div>
</div>
